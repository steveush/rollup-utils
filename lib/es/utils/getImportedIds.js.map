{"version":3,"file":"getImportedIds.js","sources":["../../../src/utils/getImportedIds.js"],"sourcesContent":["/**\r\n * Performs the recursive work for the {@link getImportedIds} method.\r\n *\r\n * @param {import('rollup').PluginContext} ctx - The plugin context object.\r\n * @param {string} moduleId - The module ID.\r\n * @param {Set<string>} [handled] - The set of handled module IDs.\r\n * @returns {string[]} - The imported IDs.\r\n */\r\nconst recurse = ( ctx, moduleId, handled = new Set() ) => {\r\n    if ( handled.has( moduleId ) ) return [];\r\n    handled.add( moduleId );\r\n\r\n    const result = [ moduleId ];\r\n\r\n    ctx.getModuleInfo( moduleId ).importedIds.forEach( ( importedId ) => {\r\n        result.push( ...recurse( ctx, importedId, handled ) );\r\n    } );\r\n\r\n    return result;\r\n};\r\n\r\n/**\r\n * Recursively retrieve all imported module ids, in the order they were imported, for a given module.\r\n *\r\n * @param {import('rollup').PluginContext} ctx - The current Rollup plugin context.\r\n * @param {string} moduleId - The module id to retrieve all imported ids for.\r\n * @param {boolean} [addSelf=false] - Whether to include the given \"moduleId\" value in the result.\r\n * @returns {Readonly<string[]>} - A readonly string array of imported module ids, in the order they were imported, for the given module.\r\n */\r\nconst getImportedIds = ( ctx, moduleId, addSelf = false ) => {\r\n    const importedIds = recurse( ctx, moduleId );\r\n    if ( !addSelf ) importedIds.shift();\r\n    return Object.freeze( importedIds );\r\n};\r\n\r\nexport default getImportedIds;"],"names":["recurse","ctx","moduleId","handled","arguments","length","undefined","Set","has","add","result","getModuleInfo","importedIds","forEach","importedId","push","getImportedIds","addSelf","shift","Object","freeze"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMA,OAAO,GAAG,UAAEC,GAAG,EAAEC,QAAQ,EAA2B;AAAA,EAAA,IAAzBC,OAAO,GAAAC,SAAA,CAAAC,MAAA,GAAAD,CAAAA,IAAAA,SAAA,CAAAE,CAAAA,CAAAA,KAAAA,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,IAAIG,GAAG,EAAE,CAAA;EAChD,IAAKJ,OAAO,CAACK,GAAG,CAAEN,QAAS,CAAC,EAAG,OAAO,EAAE,CAAA;AACxCC,EAAAA,OAAO,CAACM,GAAG,CAAEP,QAAS,CAAC,CAAA;AAEvB,EAAA,MAAMQ,MAAM,GAAG,CAAER,QAAQ,CAAE,CAAA;EAE3BD,GAAG,CAACU,aAAa,CAAET,QAAS,CAAC,CAACU,WAAW,CAACC,OAAO,CAAIC,UAAU,IAAM;AACjEJ,IAAAA,MAAM,CAACK,IAAI,CAAE,GAAGf,OAAO,CAAEC,GAAG,EAAEa,UAAU,EAAEX,OAAQ,CAAE,CAAC,CAAA;AACzD,GAAE,CAAC,CAAA;AAEH,EAAA,OAAOO,MAAM,CAAA;AACjB,CAAC,CAAA;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMM,cAAc,GAAG,UAAEf,GAAG,EAAEC,QAAQ,EAAuB;AAAA,EAAA,IAArBe,OAAO,GAAAb,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,KAAK,CAAA;AACnD,EAAA,MAAMQ,WAAW,GAAGZ,OAAO,CAAEC,GAAG,EAAEC,QAAS,CAAC,CAAA;AAC5C,EAAA,IAAK,CAACe,OAAO,EAAGL,WAAW,CAACM,KAAK,EAAE,CAAA;AACnC,EAAA,OAAOC,MAAM,CAACC,MAAM,CAAER,WAAY,CAAC,CAAA;AACvC,CAAC,CAAA;AAED,yBAAeI,cAAc;;;;"}